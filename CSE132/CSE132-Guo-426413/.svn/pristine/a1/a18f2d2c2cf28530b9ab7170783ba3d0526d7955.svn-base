package lab4.client;

import java.awt.EventQueue;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.io.IOException;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;

import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JPanel;
import javax.swing.JScrollPane;
import javax.swing.JTextField;
import javax.swing.JTextPane;
import javax.swing.border.EmptyBorder;

import lab4.model.Weasley;
import javax.swing.JList;

public class Gui extends JFrame {

	private JPanel contentPane;
	private JTextField queryName;
	private JTextPane textPane;
	private JScrollPane scrollPane;
	private static Client c;
	private Weasley model;
	private JButton btnStart;
	private ArrayList<String> names;
	private Map<String, String> info;
	/**
	 * Launch the application.
	 * @throws IOException 
	 */
	public static void main(String[] args) throws IOException {
		EventQueue.invokeLater(new Runnable() {
			public void run() {
				try {
					Gui frame = new Gui();
					frame.setVisible(true);
				} catch (Exception e) {
					e.printStackTrace();
				}
			}
		});

	}

	/**
	 * Create the frame.
	 */
	public Gui() {
		model = new Weasley();
		names = new ArrayList<String>();
		info = new HashMap<String, String>();
		setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
		setBounds(100, 100, 591, 316);
		contentPane = new JPanel();
		contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));
		setContentPane(contentPane);
		contentPane.setLayout(null);

		queryName = new JTextField();
		queryName.setBounds(27, 217, 114, 20);
		contentPane.add(queryName);
		queryName.setColumns(10);

		JButton searchName = new JButton("Search");
		searchName.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent arg0) {
			}
		});
		searchName.setBounds(27, 244, 114, 23);
		contentPane.add(searchName);

		scrollPane = new JScrollPane();
		scrollPane.setBounds(325, 32, 223, 210);
		contentPane.add(scrollPane);

		textPane = new JTextPane();
		textPane.setEditable(false);
		scrollPane.setViewportView(textPane);
		
		btnStart = new JButton("Start");
		btnStart.setBounds(27, 11, 114, 23);
		contentPane.add(btnStart);
		
		JScrollPane peopleScrollPane = new JScrollPane();
		peopleScrollPane.setBounds(119, 45, 157, 152);
		contentPane.add(peopleScrollPane);
		
		final JList people = new JList();
		peopleScrollPane.setViewportView(people);
		//textPane.setText("testtest");
		//		textPane.setText(textPane.getText() + "yay");
		

		
		btnStart.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				c = new Client();
				textPane.setText("");
				names.clear();
				info.clear();
				c.run(names, info, people);
			}
		});
	}
}
